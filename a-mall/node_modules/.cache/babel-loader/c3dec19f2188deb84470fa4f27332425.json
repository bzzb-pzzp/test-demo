{"remainingRequest":"G:\\webstorm-test\\shop-mall-master\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js!G:\\webstorm-test\\shop-mall-master\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js??ref--0-0!G:\\webstorm-test\\shop-mall-master\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js??vue-loader-options!G:\\webstorm-test\\shop-mall-master\\src\\views\\category\\Category.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\webstorm-test\\shop-mall-master\\src\\views\\category\\Category.vue","mtime":1603446829000},{"path":"G:\\webstorm-test\\shop-mall-master\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\webstorm-test\\shop-mall-master\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\webstorm-test\\shop-mall-master\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\webstorm-test\\shop-mall-master\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENhdGVnb3J5TmF2QmFyIGZyb20gIi4vY2hpbGRyZW4vQ2F0ZWdvcnlOYXZCYXIiOwppbXBvcnQgQ2F0ZWdvcnlTbGlkZSBmcm9tICIuL2NoaWxkcmVuL0NhdGVnb3J5U2xpZGUiOwppbXBvcnQgQ2F0ZWdvcnlDb250ZW50IGZyb20gIi4vY2hpbGRyZW4vQ2F0ZWdvcnlDb250ZW50IjsKaW1wb3J0IHsgZ2V0Q2F0ZWdvcnksIGdldFN1YmNhdGVnb3J5IGFzIF9nZXRTdWJjYXRlZ29yeSwgZ2V0Q2F0ZWdvcnlEZXRhaWwgYXMgX2dldENhdGVnb3J5RGV0YWlsIH0gZnJvbSAnbmV0d29yay9jYXRlZ29yeSc7CmltcG9ydCB7IGltZ01peGluIH0gZnJvbSAnY29tbW9uL21peGluJzsKaW1wb3J0IFNjcm9sbCBmcm9tICJjb21wb25lbnRzL2NvbW1vbi9zY3JvbGwvU2Nyb2xsIjsKaW1wb3J0IFRhYkNvbnRyb2wgZnJvbSAiY29tcG9uZW50cy9jb250ZW50L3RhYmNvbnRyb2wvVGFiQ29udHJvbCI7CmltcG9ydCBHb29kc0xpc3QgZnJvbSAiY29tcG9uZW50cy9jb250ZW50L2dvb2RzL0dvb2RzTGlzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2F0ZWdvcnkiLAogIGNvbXBvbmVudHM6IHsKICAgIENhdGVnb3J5TmF2QmFyOiBDYXRlZ29yeU5hdkJhciwKICAgIENhdGVnb3J5U2xpZGU6IENhdGVnb3J5U2xpZGUsCiAgICBDYXRlZ29yeUNvbnRlbnQ6IENhdGVnb3J5Q29udGVudCwKICAgIFNjcm9sbDogU2Nyb2xsLAogICAgVGFiQ29udHJvbDogVGFiQ29udHJvbCwKICAgIEdvb2RzTGlzdDogR29vZHNMaXN0CiAgfSwKICBtaXhpbnM6IFtpbWdNaXhpbl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhdGVnb3J5TmFtZTogW10sCiAgICAgIHN1YkNhdGVnb3J5OiBbXSwKICAgICAgY3VycmVudEluZGV4OiAwLAogICAgICB0aXRsZXM6IFsn5rWB6KGMJywgJ+aWsOasvicsICfnsr7pgIknXSwKICAgICAgY2F0ZWdvcnlEZXRhaWxMaXN0OiBbXSwKICAgICAgY3VycmVudFk6IDAKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDYXRlZ29yeUFsbERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6I635Y+W5YiG57G75YWo6YOo5pWw5o2uCiAgICBnZXRDYXRlZ29yeUFsbERhdGE6IGZ1bmN0aW9uIGdldENhdGVnb3J5QWxsRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8v6I635Y+W5YiG57G75bem5L6n5pWw5o2uCiAgICAgIGdldENhdGVnb3J5KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuY2F0ZWdvcnlOYW1lID0gcmVzLmRhdGEuY2F0ZWdvcnkubGlzdDsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5jYXRlZ29yeU5hbWUpOyAvL+WIneWni+WMluW3puS+p+esrOS4gOihjOaYvuekuueahOWPs+i+ueaVsOaNrgogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMuY29udGVudCkKCiAgICAgICAgX3RoaXMuZ2V0U3ViY2F0ZWdvcnkoX3RoaXMuY2F0ZWdvcnlOYW1lW190aGlzLmN1cnJlbnRJbmRleF0ubWFpdEtleSwgX3RoaXMuY3VycmVudEluZGV4KTsgLy/liJ3lp4vljJblt6bkvqfnrKzkuIDooYzor6bmg4XmlbDmja4KCgogICAgICAgIF90aGlzLmdldENhdGVnb3J5RGV0YWlsKF90aGlzLmNhdGVnb3J5TmFtZVtfdGhpcy5jdXJyZW50SW5kZXhdLm1pbmlXYWxsa2V5LCAncG9wJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5Y+R6YCB572R57uc6K+35rGC6I635Y+W5bem5L6n5pWw5o2uCiAgICBzbGlkZUl0ZW1DbGljazogZnVuY3Rpb24gc2xpZGVJdGVtQ2xpY2soX3JlZikgewogICAgICB2YXIgbWFpdEtleSA9IF9yZWYubWFpdEtleSwKICAgICAgICAgIGluZGV4ID0gX3JlZi5pbmRleDsKICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDsKICAgICAgdGhpcy5nZXRTdWJjYXRlZ29yeShtYWl0S2V5LCB0aGlzLmN1cnJlbnRJbmRleCk7CiAgICAgIHRoaXMuZ2V0Q2F0ZWdvcnlEZXRhaWwodGhpcy5jYXRlZ29yeU5hbWVbdGhpcy5jdXJyZW50SW5kZXhdLm1pbmlXYWxsa2V5LCAncG9wJyk7CiAgICB9LAogICAgLy/lj5HpgIHnvZHnu5zor7fmsYLojrflj5blj7PkvqfmlbDmja4KICAgIGdldFN1YmNhdGVnb3J5OiBmdW5jdGlvbiBnZXRTdWJjYXRlZ29yeShtYWl0S2V5LCBpbmRleCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIF9nZXRTdWJjYXRlZ29yeShtYWl0S2V5KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLmNvbnRlbnQpCiAgICAgICAgX3RoaXMyLnN1YkNhdGVnb3J5W2luZGV4XSA9IHJlcy5kYXRhLmxpc3Q7IC8vIOiOt+WPluWujOaVsOaNruiuqee7hOS7tuW8uuWItuWIt+aWsOS6hgoKICAgICAgICBfdGhpczIuJGZvcmNlVXBkYXRlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5Y+R6YCB572R57uc6K+35rGC6I635Y+W6K+m5oOF5pWw5o2uCiAgICBnZXRDYXRlZ29yeURldGFpbDogZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlEZXRhaWwobWluaVdhbGxrZXksIHR5cGUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBfZ2V0Q2F0ZWdvcnlEZXRhaWwobWluaVdhbGxrZXksIHR5cGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5jYXRlZ29yeURldGFpbExpc3QgPSByZXM7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5Yi35pawc2Nyb2xsCiAgICBpbWdMb2FkOiBmdW5jdGlvbiBpbWdMb2FkKCkgewogICAgICB0aGlzLiRyZWZzLnNjcm9sbC5yZWZyZXNoKCk7CiAgICB9LAogICAgLy/lr7zoiKrngrnlh7sKICAgIGl0ZW1DbGljazogZnVuY3Rpb24gaXRlbUNsaWNrKGluZGV4KSB7CiAgICAgIHZhciB0aXRsZXMgPSBbJ3BvcCcsICduZXcnLCAnc2VsbCddOwogICAgICB0aGlzLmdldENhdGVnb3J5RGV0YWlsKHRoaXMuY2F0ZWdvcnlOYW1lW3RoaXMuY3VycmVudEluZGV4XS5taW5pV2FsbGtleSwgdGl0bGVzW2luZGV4XSk7CiAgICB9CiAgfSwKICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7CiAgICB0aGlzLmN1cnJlbnRZID0gdGhpcy4kcmVmcy5zY3JvbGwuZ2V0UG9zaXRpb25ZKCk7CiAgICB0aGlzLiRidXMuJG9mZignaW1nTG9hZCcsIHRoaXMuaW1nTGlzdGVuZXIpOwogIH0sCiAgYWN0aXZhdGVkOiBmdW5jdGlvbiBhY3RpdmF0ZWQoKSB7CiAgICB0aGlzLiRyZWZzLnNjcm9sbC5zY3JvbGxUbygwLCB0aGlzLmN1cnJlbnRZLCA1MCk7CiAgICB0aGlzLiRyZWZzLnNjcm9sbC5yZWZyZXNoKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Category.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"category\">\n    <!--导航-->\n    <category-nav-bar/>\n    <!--侧边栏-->\n    <category-slide :category-name=\"categoryName\" @slideItemClick=\"slideItemClick\" />\n    <scroll class=\"scroll_height\" ref=\"scroll\">\n      <!--主体部分-->\n      <category-content :sub-category=\"subCategory[currentIndex]\" ref=\"content\" @imgLoad=\"imgLoad\"/>\n      <!--导航-->\n      <tab-control :titles=\"titles\" @itemClick=\"itemClick\"/>\n      <!--商品展示列表-->\n      <goods-list :goods=\"categoryDetailList\"/>\n    </scroll>\n  </div>\n</template>\n\n<script>\n  import CategoryNavBar from \"./children/CategoryNavBar\";\n  import CategorySlide from \"./children/CategorySlide\";\n  import CategoryContent from \"./children/CategoryContent\";\n  import {getCategory,getSubcategory,getCategoryDetail} from 'network/category'\n  import {imgMixin} from 'common/mixin'\n  import Scroll from \"components/common/scroll/Scroll\";\n  import TabControl from \"components/content/tabcontrol/TabControl\";\n  import GoodsList from \"components/content/goods/GoodsList\";\n  export default {\n    name: \"Category\" ,\n    components:{\n      CategoryNavBar,\n      CategorySlide,\n      CategoryContent,\n      Scroll,\n      TabControl,\n      GoodsList\n    },\n    mixins:[imgMixin],\n    data(){\n      return {\n        categoryName:[],\n        subCategory:[],\n        currentIndex:0,\n        titles:['流行','新款','精选'],\n        categoryDetailList: [],\n        currentY:0\n      }\n    },\n    created() {\n      this.getCategoryAllData()\n    },\n    methods:{\n      //获取分类全部数据\n      getCategoryAllData(){\n        //获取分类左侧数据\n        getCategory().then(res=>{\n          this.categoryName = res.data.category.list\n          console.log(this.categoryName)\n            //初始化左侧第一行显示的右边数据\n            // console.log(this.$refs.content)\n          this.getSubcategory(this.categoryName[this.currentIndex].maitKey,this.currentIndex)\n          //初始化左侧第一行详情数据\n          this.getCategoryDetail(this.categoryName[this.currentIndex].miniWallkey,'pop')\n        })\n\n      },\n      //发送网络请求获取左侧数据\n      slideItemClick({maitKey,index}){\n        this.currentIndex = index\n        this.getSubcategory(maitKey,this.currentIndex)\n        this.getCategoryDetail(this.categoryName[this.currentIndex].miniWallkey,'pop')\n      },\n      //发送网络请求获取右侧数据\n      getSubcategory(maitKey,index){\n        getSubcategory(maitKey).then(res=>{\n          // console.log(this.$refs.content)\n          this.subCategory[index] = res.data.list\n          // 获取完数据让组件强制刷新了\n          this.$forceUpdate();\n        })\n      },\n      //发送网络请求获取详情数据\n      getCategoryDetail(miniWallkey,type){\n        getCategoryDetail(miniWallkey,type).then(res=>{\n          this.categoryDetailList = res\n        })\n      },\n      //刷新scroll\n      imgLoad(){\n        this.$refs.scroll.refresh()\n      },\n      //导航点击\n      itemClick(index){\n        const titles = ['pop','new','sell']\n        this.getCategoryDetail(this.categoryName[this.currentIndex].miniWallkey,titles[index])\n      }\n    },\n    deactivated() {\n      this.currentY = this.$refs.scroll.getPositionY()\n      this.$bus.$off('imgLoad',this.imgListener)\n    },\n    activated() {\n      this.$refs.scroll.scrollTo(0,this.currentY,50)\n      this.$refs.scroll.refresh()\n    }\n\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .category{\n    position: relative;\n    height: 100vh;\n    .scroll_height{\n      position: absolute;\n      top: 44px;\n      left: 100px;\n      right: 0;\n      bottom: 49px;\n      overflow: hidden;\n    }\n  }\n</style>\n"],"sourceRoot":"src/views/category"}]}